class ExpenseJS{InitAdd(){var n=document.querySelector("#btGeraParcela");n.addEventListener("click",()=>{var t={TotalSeq:$("#ExpenseTotalSeq").val(),Value:$("#Total").val(),DataInicial:$("#DueDate").val()},i=n.getAttribute("data-url"),r=n.getAttribute("data-token");$.ajax({type:"POST",headers:{RequestVerificationToken:r},url:i,data:t,error:function(n){console.log(n)},success:function(n){$("#tableparcelas").empty();$.each(n,function(n,t){var r=new Date(t.dueDate).toLocaleDateString("pt-BR"),u=ConverterMoedaDecimais(t.total),i="<tr>";i+='<td><input type="hidden" value="'+t.seq+'" name="parcelas['+n+'].Seq"/>'+t.seq+"<\/td>";i+='<td><input class="form-control datepicker"  type="text" value="'+r+'" name="parcelas['+n+'].DueDate" /><\/td>"';i+='<td><input class="form-control" onkeypress="return (soNums(event,\'\'));" onkeydown="Formata(this,20,event,2)" data-thousands="." data-decimal="," type="text" value="'+u+'" name="parcelas['+n+'].Total" /><\/td>"';i+="<\/tr>";$("#tableparcelas").append(i)})},dataType:"json"})})}InitList(){var t,n,r=$("#Payment"),i=document.querySelector("#Payment");i.addEventListener("blur",function(){var r=$(this).val(),u=parseFloat(r.replace(".","").replace(",",".")),i=parseFloat(t.replace(".","").replace(",","."));document.querySelector("#Active").checked=u<i||i==0||!n?!1:!0});i.addEventListener("change",function(){var r=$(this).val(),u=parseFloat(r.replace(",",".")),i=parseFloat(t.replace(",","."));document.querySelector("#Active").checked=u<i||i==0||!n?!1:!0});$(document).on("click",".pay",function(){$(".modal-body #ExpenseId").val($(this).data("id"));$("#Name").innerHTML=$(this).data("name");var i=ConverterMoedaDecimais($(this).data("value").replace(",","."));$(".modal-body #Payment").val(i);t=$(this).data("value");n=$(this).data("payday").length>0;n||(document.querySelector("#Active").checked=!1);$("#Comment").val($(this).data("name")+": "+$(this).data("conta"));$("#payexpense").modal("show")})}Confirma(){var n=confirm("VocÃª deseja pagar esta conta ?");return n?!0:!1}}var expenseJS=new ExpenseJS;